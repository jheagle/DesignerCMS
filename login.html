<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <meta name="viewport" content="width=device-width">
        <title>Admin Login</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <div class="container-admin">
            <div class="top-bar">
                <ul class="menu">
                    <li>
                        <a href="locations.html" target="_blank">Find a Doctor</a>
                    </li>
                    <li>
                        <a href="locations.html" target="_blank">Find a Doctor</a>
                    </li>
                    <li>
                        <a href="admin/">Administer</a>
                    </li>
                    <li>
                        <a href="account/">Accounts</a>
                    </li>
                    <li>
                        <a href="login.html">Log In</a>
                    </li>
                </ul>
            </div>
            <div class="login">
                <form action="controllers/login.php" method="post">
                    <div>
                        <label for="username">Username: </label>
                        <input id="username" name="username" type="text" required>
                    </div>
                    <div>
                        <label for="password">Password: </label>
                        <input id="password" name="password" type="password" required>
                    </div>
                    <div>
                        <input id="submit" type="submit" value="Sign In">
                    </div>
                </form>
            </div>
            <div class="login new-login">
                <form action="controllers/login_new.php" method="post">
                    <div>
                        <label for="username">Username: </label>
                        <input id="username" name="username" type="text" required>
                    </div>
                    <div>
                        <label for="password">Password: </label>
                        <input id="password" name="password" type="password" required>
                    </div>
                    <div>
                        <label for="confirm-password">Re-type Password: </label>
                        <input id="password" name="confirmpass" type="password" required>
                    </div>
                    <div>
                        <label for="email">Email: </label>
                        <input id="email" name="email" type="email" required>
                    </div>
                    <div>
                        <label for="confirm-email">Re-type Email: </label>
                        <input id="confirmemail" name="confirmemail" type="email" required>
                    </div>
                    <div>
                        <input id="submit" type="submit" value="Register">
                    </div>
                </form>
            </div>
        </div>
        <script>
            var errorTypes = ['Success!', 'Incorrect Username or Password.', 'Username and Password are both required.', 'Please Enter Username and Password.', 'You may only have one email per account.', 'Your email and confirmation do not match.', 'Your password and confirmation do not match.', 'Please select another username.', 'Unable to create account at this time.\nContact Support: contact@joshuaheagle.com'];
            
            function URLToArray(url) {
                var request = {};
                var pairs = url.substring(url.indexOf('?') + 1).split('&');
                for (var i = 0; i < pairs.length; i++) {
                    var pair = pairs[i].split('=');
                    request[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
                }
                if (url in request) {
                    return {};
                }
                return request;
            }

            var params = URLToArray(window.location.href);
            if ('fail' in params) {
                if (params['fail'] < 9) {
                    alert(errorTypes[params['fail']]);
                }
            }
        </script>
    </body>
</html>